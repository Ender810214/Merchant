unit devoluciones;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, CurvyControls, cxGraphics, cxControls,
  cxLookAndFeels, cxLookAndFeelPainters, cxContainer, cxEdit, dxSkinsCore,
  Vcl.StdCtrls, Vcl.DBCtrls, cxDBEdit, cxTextEdit,
  cxMaskEdit, cxSpinEdit, Data.DB, Vcl.Mask, JvExMask, JvToolEdit, JvDBControls,
  cxNavigator, cxDBNavigator, cxDropDownEdit, cxCalc, cxStyles,
   cxCustomData, cxFilter, cxData, cxDataStorage, cxDBData,
  cxGridCustomTableView, cxGridTableView, cxGridDBTableView, cxGridLevel,
  cxClasses, cxGridCustomView, cxGrid, cxLabel, cxDBLabel, AdvSmoothButton,
  cxCalendar, dxDateRanges, MemDS, DBAccess, Uni;

type
  TFDevoluciones = class(TForm)
    CurvyPanel1: TCurvyPanel;
    CurvyPanel2: TCurvyPanel;
    DataSource1: TDataSource;
    cxDBNavigator1: TcxDBNavigator;
    cxGrid1DBTableView1: TcxGridDBTableView;
    cxGrid1Level1: TcxGridLevel;
    cxGrid1: TcxGrid;
    CurvyPanel3: TCurvyPanel;
    AdvSmoothButton1: TAdvSmoothButton;
    Qdevoluciones: TUniQuery;
    Qdevolucionesdescripcion: TStringField;
    Qdevolucionesestado: TStringField;
    Qdevolucionesfecha: TDateField;
    Qdevolucionesentrega: TStringField;
    Qdevolucionesrecibe: TStringField;
    DataSource2: TDataSource;
    Label1: TLabel;
    cxDBSpinEdit1: TcxDBSpinEdit;
    Label2: TLabel;
    cxDBTextEdit1: TcxDBTextEdit;
    Label3: TLabel;
    Label4: TLabel;
    cxDBDateEdit1: TcxDBDateEdit;
    Label5: TLabel;
    cxDBTextEdit3: TcxDBTextEdit;
    Label6: TLabel;
    cxDBTextEdit4: TcxDBTextEdit;
    cxGrid1DBTableView1descripcion: TcxGridDBColumn;
    cxGrid1DBTableView1estado: TcxGridDBColumn;
    cxGrid1DBTableView1fecha: TcxGridDBColumn;
    cxGrid1DBTableView1entrega: TcxGridDBColumn;
    cxGrid1DBTableView1recibe: TcxGridDBColumn;
    AdvSmoothButton2: TAdvSmoothButton;
    cxDBLabel1: TcxDBLabel;
    Qdevolucionesdevid: TIntegerField;
    Qdevolucionestipo: TStringField;
    cxDBComboBox1: TcxDBComboBox;
    Label7: TLabel;
    cxGrid1DBTableView1devid: TcxGridDBColumn;
    cxGrid1DBTableView1tipo: TcxGridDBColumn;
    procedure AdvSmoothButton1Click(Sender: TObject);
    procedure AdvSmoothButton2Click(Sender: TObject);
    procedure FormCreate(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  FDevoluciones: TFDevoluciones;

implementation
  uses main,sel_productos_dev;
{$R *.dfm}

procedure TFDevoluciones.AdvSmoothButton1Click(Sender: TObject);
begin
if Qdevolucionesestado.value='En Proceso' then
begin
Qdevoluciones.Edit;
Qdevolucionesestado.Value:='Terminado';
Qdevoluciones.Post;
end
else
ShowMessage('El documento ya esta cerrado');
end;

procedure TFDevoluciones.AdvSmoothButton2Click(Sender: TObject);
begin
if Qdevolucionesestado.Value='En Proceso' then
begin
Fsel_producto_dev:=TFsel_producto_dev.Create(Application);
Fsel_producto_dev.ShowModal;
end
else
ShowMessage('El documento ya esta cerrado');

end;

procedure TFDevoluciones.FormCreate(Sender: TObject);
begin
Qdevoluciones.Open;
end;

end.
